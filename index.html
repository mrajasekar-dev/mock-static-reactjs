<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Refined Accordion UI</title>
    <style>
        body { font-family: 'Arial', sans-serif; background-color: #f4f4f4; margin: 0; padding: 20px; }
        .container { display: flex; justify-content: center; align-items: flex-start; flex-wrap: wrap; gap: 20px; margin-top: 20px; }
        .accordion, .sub-accordion { width: 90%; max-width: 600px; background: #ffffff; border: 1px solid #ccc; border-radius: 8px; margin-top: 10px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        .accordion-header, .sub-accordion-header { cursor: pointer; padding: 15px 20px; background: #007bff; color: white; font-size: 16px; transition: background-color 0.3s ease-in-out; }
        .accordion-header:hover, .sub-accordion-header:hover { background-color: #0056b3; }
        .accordion-content, .sub-accordion-content { display: none; padding: 10px 20px; background: white; }
        .show { display: block; }
        h2 { text-align: center; width: 100%; color: #333; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script src="https://unpkg.com/react@17/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@17/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <script type="text/babel">
        const data = {
            Accounts: [
                {
                    Id: "001Qy00000XbvUxIAJ",
                    Name: "United Oil & Gas Corp.",
                    Opportunities: [
                        {
                            Id: "006Qy000008X1BPIA0",
                            Name: "United Oil Refinery Generators",
                            Quotes: [
                                {
                                    Id: "a00Qy00000MrvjRIAR",
                                    Name: "United Oil Refinery Generators Quote",
                                    QuoteLineItems: [
                                        {
                                            Id: "a01Qy00000XniZaIAJ",
                                            ProductName: "GenWatt Diesel 1000kW",
                                            Quantity: 2,
                                            UnitPrice: 75000,
                                            TotalPrice: 150000
                                        },
                                        {
                                            Id: "a01Qy00000XniZbIAJ",
                                            ProductName: "GenWatt Propane 500kW",
                                            Quantity: 1,
                                            UnitPrice: 45000,
                                            TotalPrice: 45000
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                }
            ]
        };

        function SubAccordion({ title, content }) {
            const [isOpen, setIsOpen] = React.useState(false);
            return (
                <div className="sub-accordion">
                    <div className="sub-accordion-header" onClick={() => setIsOpen(!isOpen)}>{title}</div>
                    <div className={isOpen ? 'sub-accordion-content show' : 'sub-accordion-content'}>
                        <ul>
                            {content.map(item => (
                                <li key={item.Id}>{`${item.ProductName} - Quantity: ${item.Quantity}, Unit Price: $${item.UnitPrice}, Total Price: $${item.TotalPrice}`}</li>
                            ))}
                        </ul>
                    </div>
                </div>
            );
        }

        function Accordion({ title, quotes }) {
            const [isOpen, setIsOpen] = React.useState(false);
            return (
                <div className="accordion">
                    <div className="accordion-header" onClick={() => setIsOpen(!isOpen)}>{title}</div>
                    <div className={isOpen ? 'accordion-content show' : 'accordion-content'}>
                        {quotes.map(quote => (
                            <SubAccordion key={quote.Id} title={quote.Name} content={quote.QuoteLineItems} />
                        ))}
                    </div>
                </div>
            );
        }

        function Account({ account }) {
            return (
                <div>
                    <h2>{account.Name}</h2>
                    {account.Opportunities.map(opp => (
                        <Accordion key={opp.Id} title={opp.Name} quotes={opp.Quotes} />
                    ))}
                </div>
            );
        }

        function App() {
            return (
                <div className="container">
                    {data.Accounts.map(account => (
                        <Account key={account.Id} account={account} />
                    ))}
                </div>
            );
        }

        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>
